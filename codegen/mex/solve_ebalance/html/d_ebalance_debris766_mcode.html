<!-- saved from url=(0014)about:internet -->
<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="82,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T1U3">dM</span>=d_ebalance_debris(<span class="var type1" id="S3T1U6">Tsfc</span>,<span class="var type1" id="S4T1U7">T_fine</span>,<span class="var type1" id="S5T1U8">Vf</span>,<span class="var type1" id="S6T1U9">sig</span>,<span class="var type1" id="S7T1U10">ems</span>,<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,2" id="srcline2"> 2</a></span><span class="line">    <span class="var type1" id="S8T1U11">Cp</span>,<span class="var type1" id="S9T1U12">rho_air</span>,<span class="var type1" id="S10T1U13">De_h</span>,<span class="var type1" id="S11T1U14">B1</span>,<span class="var type1" id="S12T1U15">B2</span>,<span class="var type1" id="S13T1U16">K</span>,<span class="var type1" id="S14T1U17">d</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="82,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%analytical deriative of L</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,4" id="srcline4"> 4</a></span><span class="line"><span class="mxinfo " id="T1:U14"><span class="var type1" id="S15T1U20">dL</span>=<span class="mxinfo " id="T1:U16"><span class="mxinfo " id="T1:U17"><span class="mxinfo " id="T1:U18"><span class="mxinfo " id="T1:U19"><span class="mxinfo " id="T1:U20">- 4*<span class="mxinfo " id="T1:U21"><span class="var type1" id="S3T1U29">Tsfc</span>^3</span></span>*<span class="var type1" id="S7T1U31">ems</span></span>*<span class="var type1" id="S6T1U32">sig</span></span> - <span class="mxinfo " id="T1:U25"><span class="mxinfo " id="T1:U26"><span class="mxinfo " id="T1:U27"><span class="mxinfo " id="T1:U28">4*<span class="mxinfo " id="T1:U29"><span class="var type1" id="S3T1U39">Tsfc</span>^3</span></span>*<span class="var type1" id="S7T1U41">ems</span></span>*<span class="var type1" id="S6T1U42">sig</span></span>*(<span class="mxinfo " id="T1:U33"><span class="var type1" id="S5T1U45">Vf</span> - 1</span>)</span></span> - <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,5" id="srcline5"> 5</a></span><span class="line">    <span class="mxinfo " id="T1:U35"><span class="mxinfo " id="T1:U36"><span class="mxinfo " id="T1:U37"><span class="mxinfo " id="T1:U38"><span class="mxinfo " id="T1:U39">4*<span class="mxinfo " id="T1:U40"><span class="var type1" id="S3T1U54">Tsfc</span>^3</span></span>*<span class="var type1" id="S7T1U56">ems</span></span>*<span class="var type1" id="S6T1U57">sig</span></span>*(<span class="mxinfo " id="T1:U44"><span class="var type1" id="S5T1U60">Vf</span> - 1</span>)</span>*(<span class="mxinfo " id="T1:U46"><span class="var type1" id="S7T1U64">ems</span> - 1</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="82,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">%analytical derivative of sensible heat given unstable</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%conditions (Tsfc &gt; Tair)</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,8" id="srcline8"> 8</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo " id="T2:U48"><span class="var type1" id="S3T1U69">Tsfc</span> &gt; <span class="var type1" id="S4T1U70">T_fine</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="82,9" id="srcline9"> 9</a></span><span class="line"><span class="mxinfo " id="T1:U51"><span class="var type1" id="S16T1U73">dS</span> = <span class="mxinfo " id="T1:U53"><span class="mxinfo " id="T1:U54"><span class="mxinfo " id="T1:U55"><span class="mxinfo " id="T1:U56"><span class="var type1" id="S8T1U78">Cp</span>*<span class="var type1" id="S10T1U79">De_h</span></span>*<span class="var type1" id="S9T1U80">rho_air</span></span>*(<span class="mxinfo " id="T1:U60"><span class="mxinfo " id="T1:U61">(<span class="mxinfo " id="T1:U62"><span class="var type1" id="S11T1U86">B1</span>*(<span class="mxinfo " id="T1:U64"><span class="var type1" id="S4T1U89">T_fine</span> - <span class="var type1" id="S3T1U90">Tsfc</span></span>)</span>)/<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,10" id="srcline10">10</a></span><span class="line">    (<span class="mxinfo " id="T1:U67"><span class="mxinfo " id="T1:U68"><span class="var type1" id="S12T1U94">B2</span>*<span class="mxinfo " id="T1:U70">(<span class="mxinfo " id="T1:U71"><span class="var type1" id="S3T1U98">Tsfc</span> - <span class="var type1" id="S4T1U99">T_fine</span></span>)^(1/2)</span></span> + 1</span>)</span> - 1</span>)</span> + <span class="mxinfo " id="T1:U74"><span class="mxinfo " id="T1:U75"><span class="mxinfo " id="T1:U76"><span class="mxinfo " id="T1:U77"><span class="var type1" id="S8T1U110">Cp</span>*<span class="var type1" id="S10T1U111">De_h</span></span>*<span class="var type1" id="S9T1U112">rho_air</span></span>*(<span class="mxinfo " id="T1:U81"><span class="var type1" id="S4T1U115">T_fine</span> - <span class="var type1" id="S3T1U116">Tsfc</span></span>)</span>*<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,11" id="srcline11">11</a></span><span class="line">    (<span class="mxinfo " id="T1:U84"><span class="mxinfo " id="T1:U85"><span class="var type1" id="S11T1U120">B1</span>/(<span class="mxinfo " id="T1:U87"><span class="mxinfo " id="T1:U88"><span class="var type1" id="S12T1U124">B2</span>*<span class="mxinfo " id="T1:U90">(<span class="mxinfo " id="T1:U91"><span class="var type1" id="S3T1U128">Tsfc</span> - <span class="var type1" id="S4T1U129">T_fine</span></span>)^(1/2)</span></span> + 1</span>)</span> - <span class="mxinfo " id="T1:U94">(<span class="mxinfo " id="T1:U95"><span class="mxinfo " id="T1:U96"><span class="var type1" id="S11T1U139">B1</span>*<span class="var type1" id="S12T1U140">B2</span></span>*<span class="mxinfo " id="T1:U99">(<span class="mxinfo " id="T1:U100"><span class="var type1" id="S3T1U144">Tsfc</span> - <span class="var type1" id="S4T1U145">T_fine</span></span>)^(1/2)</span></span>)/<span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,12" id="srcline12">12</a></span><span class="line">    (<span class="mxinfo " id="T1:U103">2*<span class="mxinfo " id="T1:U104">(<span class="mxinfo " id="T1:U105"><span class="mxinfo " id="T1:U106"><span class="var type1" id="S12T1U157">B2</span>*<span class="mxinfo " id="T1:U108">(<span class="mxinfo " id="T1:U109"><span class="var type1" id="S3T1U161">Tsfc</span> - <span class="var type1" id="S4T1U162">T_fine</span></span>)^(1/2)</span></span> + 1</span>)^2</span></span>)</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="82,13" id="srcline13">13</a></span><span class="line">    <span class="comment">%analytical derivative of sensible heat given stable conditions</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,14" id="srcline14">14</a></span><span class="line"><span class="keyword">elseif</span> <span class="mxinfo " id="T2:U112"><span class="var type1" id="S3T1U171">Tsfc</span> &lt; <span class="var type1" id="S4T1U172">T_fine</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="82,15" id="srcline15">15</a></span><span class="line">    <span class="mxinfo " id="T1:U115"><span class="var type1" id="S16T1U175">dS</span> = <span class="mxinfo " id="T1:U117"><span class="mxinfo " id="T1:U118">(<span class="mxinfo " id="T1:U119"><span class="mxinfo " id="T1:U120"><span class="mxinfo " id="T1:U121"><span class="mxinfo " id="T1:U122"><span class="var type1" id="S11T1U183">B1</span>*<span class="var type1" id="S8T1U184">Cp</span></span>*<span class="var type1" id="S10T1U185">De_h</span></span>*<span class="var type1" id="S9T1U186">rho_air</span></span>*(<span class="mxinfo " id="T1:U127"><span class="var type1" id="S4T1U189">T_fine</span> - <span class="var type1" id="S3T1U190">Tsfc</span></span>)</span>)/<span class="mxinfo " id="T1:U130">(<span class="mxinfo " id="T1:U131"><span class="mxinfo " id="T1:U132">(<span class="mxinfo " id="T1:U133"><span class="var type1" id="S11T1U197">B1</span>*(<span class="mxinfo " id="T1:U135"><span class="var type1" id="S4T1U200">T_fine</span> - <span class="var type1" id="S3T1U201">Tsfc</span></span>)</span>)/2</span> + 1</span>)^3</span></span> - <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,16" id="srcline16">16</a></span><span class="line">        <span class="mxinfo " id="T1:U138">(<span class="mxinfo " id="T1:U139"><span class="mxinfo " id="T1:U140"><span class="var type1" id="S8T1U209">Cp</span>*<span class="var type1" id="S10T1U210">De_h</span></span>*<span class="var type1" id="S9T1U211">rho_air</span></span>)/<span class="mxinfo " id="T1:U144">(<span class="mxinfo " id="T1:U145"><span class="mxinfo " id="T1:U146">(<span class="mxinfo " id="T1:U147"><span class="var type1" id="S11T1U218">B1</span>*(<span class="mxinfo " id="T1:U149"><span class="var type1" id="S4T1U221">T_fine</span> - <span class="var type1" id="S3T1U222">Tsfc</span></span>)</span>)/2</span> + 1</span>)^2</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="82,17" id="srcline17">17</a></span><span class="line"><span class="comment">%     analytical derivative of sensible heat given neutral conditions</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,18" id="srcline18">18</a></span><span class="line"><span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,19" id="srcline19">19</a></span><span class="line">    <span class="mxinfo " id="T1:U152"><span class="var type1" id="S16T1U229">dS</span>=<span class="mxinfo " id="T1:U154"><span class="mxinfo " id="T1:U155"><span class="mxinfo " id="T1:U156">-<span class="var type1" id="S8T1U233">Cp</span></span>*<span class="var type1" id="S10T1U234">De_h</span></span>*<span class="var type1" id="S9T1U235">rho_air</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="82,20" id="srcline20">20</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,21" id="srcline21">21</a></span><span class="line"><span class="comment">%analytical derivative of G</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,22" id="srcline22">22</a></span><span class="line"><span class="mxinfo " id="T1:U160"><span class="var type1" id="S17T1U238">dG</span> = <span class="mxinfo " id="T1:U162"><span class="mxinfo " id="T1:U163">-(<span class="mxinfo " id="T1:U164">2*<span class="var type1" id="S13T1U244">K</span></span>)</span>/<span class="var type1" id="S14T1U245">d</span></span></span> ;</span></span>
<span class="srcline"><span class="lineno"><a href="82,23" id="srcline23">23</a></span><span class="line"><span class="comment">%total melt derivative</span></span></span>
<span class="srcline"><span class="lineno"><a href="82,24" id="srcline24">24</a></span><span class="line"><span class="mxinfo " id="T1:U167"><span class="var type1" id="S2T1U248">dM</span>=<span class="mxinfo " id="T1:U169"><span class="mxinfo " id="T1:U170"><span class="var type1" id="S15T1U251">dL</span>+<span class="var type1" id="S16T1U252">dS</span></span>+<span class="var type1" id="S17T1U253">dG</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="82,25" id="srcline25">25</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
</body>
</html>
